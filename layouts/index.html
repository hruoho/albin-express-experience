{{ define "main" }}
<section class="hero">
  <img src="{{ (.Params.heroImage | default "images/gallery/hero.jpg") | relURL }}" alt="Albin Express under sail" class="hero__image">
  <div class="hero__overlay">
    <h1 class="hero__title">{{ .Title }}</h1>
    <p class="hero__subtitle">{{ .Params.subtitle }}</p>
  </div>
</section>

<section class="section">
  <div class="section--narrow">
    {{ .Content }}
  </div>
</section>

{{ with .Params.gallery }}
<section class="section">
  <div class="gallery">
    {{ range . }}
    <a href="{{ .src | relURL }}" class="gallery__link" target="_blank">
      <img src="{{ .src | relURL }}" alt="{{ .alt }}" class="gallery__image">
    </a>
    {{ end }}
  </div>
</section>
{{ end }}

{{ with .Params.reviews }}
<section class="section">
  {{ with $.Params.rating }}
  <p class="rating">
    <span class="rating__score">{{ . }}/10</span>
    <span class="rating__source">Friilo Â· {{ $.Params.ratingCount }} {{ if eq $.Lang "fi" }}arvostelua{{ else }}reviews{{ end }}</span>
  </p>
  {{ end }}
  <div class="reviews">
    {{ range . }}
    <blockquote class="review">
      <p>{{ .text }}</p>
    </blockquote>
    {{ end }}
  </div>
</section>
{{ end }}

{{ with .Params.pricing }}
<section class="section">
  <h2>{{ $.Params.pricingTitle | default "Pricing" }}</h2>
  <div class="card-grid">
    {{ range . }}
    <div class="card">
      <p class="label">{{ .label }}</p>
      <h3 class="card__title">{{ .title }}</h3>
      <p class="card__price">{{ .price }}</p>
      {{ with .details }}
      {{ range . }}
      <p class="card__detail">{{ . }}</p>
      {{ end }}
      {{ end }}
    </div>
    {{ end }}
  </div>
  {{ with $.Params.bookingUrl }}
  <p style="margin-top: 1.5rem;"><a href="{{ . }}" class="btn" target="_blank" rel="noopener">{{ if eq $.Lang "fi" }}Varaa Friilosta{{ else }}Book on Friilo{{ end }}</a></p>
  {{ end }}
</section>
{{ end }}

<section class="section">
  <h2>{{ .Params.contactTitle | default "Contact" }}</h2>
  <div class="section--narrow">
    <p>{{ .Params.contactText }}</p>
    <p><a href="mailto:{{ .Site.Params.contactEmail }}">{{ .Site.Params.contactEmail }}</a></p>
    {{ with .Params.contactPhone }}
    <p><a href="tel:{{ . }}">{{ . }}</a></p>
    {{ end }}
  </div>
</section>
{{ end }}
